# Hash tables

In some languages, they call it dictionaries.

A hash table is a form of what's called an associative array. 
It's a data structure that maps keys to their associated values, and it does this using what's called a hash function. 
This function uses the key to compute an index into the slots that are in the hash table and map the key to the value. 

Now, ideally, the hash function will assign each key to a unique slot in the table where the values are stored. 
In reality, sometimes there are collisions in which two separate keys each map to the same slot in the table. 
And in that case, the hash table has to have a way of resolving those collisions so that the correct value is mapped to the right key. 

That's a bit of a complex subject, so we're not going to see how hash functions work and how collisions are resolved. 
Most languages and frameworks already have hash table data structures that have all of these figured out already. 

For the purpose of this content, what's important is that we understand how hash tables are used and what their advantages and drawbacks are. 

One of the primary benefits of hash tables is their ability to uniquely map a given key to a specific value. 
This feature provides the ability to implement certain kinds of algorithms which we will demonstrate, such as counters and filters. 
Another advantage of hash tables is their speed. 
They are typically faster than other kinds of table lookup structures, particularly when the number of entries is large. 

They do have some drawbacks, however. 
If the number of entries in the hash table are small, then it might be more efficient to just use a regular array or a linked list, because there won't be any collisions to resolve. 
Also, hash tables don't usually order their entries in any particular way, so unless we want to incur the cost of a separate sorting step, they may not be able to efficiently enumerate entries that are close to a given key since the data might be spread out randomly in the system's memory. 

Let's take a look in our code editor at how hash tables are used. Here I am in VS Code, and I'm going to open up the hashtable_start file in my Data Structures folder. Again, this is Python, but the principles here are going to be same as in other languages. So here in my hash table start file, I'll start by creating a new hash table. There are few different ways to do this in Python, and I'll start with the dictionary constructor to create a hash table with values all at once. I'll write items1 equals, and then Python has this dict function that does this, so then I'll put in some curly braces, and I'll have key1 which maps to one, and key2 which maps to two, and then I'll put in key3 which maps to in this case I'll have the string three. And then what I'm going to do is just print items1. Let's save that, and I'm going to run the code. Again, I can run this right here in Visual Studio Code because Visual Studio Code knows how to do that, and you can see that here's the dictionary. The contents of the hash table are printed, and there's key value pairs. I've got three key, key3, key2, and key1. And again, just to show you that it's possible, I'll go out to my terminal and I'm here in chapter two, so I'll simply cd into the hash table directory, type python3 and then this is going to be hashtable_start, and there you go, same result. Let's go back to the code. Now we've printed out the contents. You can see that they're not stored in any particular order. In this case, they happen to be listed in reverse order that I added them in, but hash tables don't make any guarantees about that. There's no way of knowing what order a hash table is going to store the keys and the values in. And it's also possible to build the hash table progressively since these data structures can grow or shrink to fit the data that they contain. Let's add an example of that. This time I'll use the curly brace notation to do this. Now I'll write items2 equals and then just these two empty curly braces, so that creates an empty dictionary. And then I'll just add items as I go along, so I'll put in key1, and that is equal to one, and I'll just copy and paste this a couple times. I'll change that to two and three, and this will become two and three. Alright, and then once again, I'll just print out items2. Let's save. I'll clear the console and run this again. Now you can see that I've got both of the hash tables and the contents are being printed in key value pairs. Let's see what happens when I try to access a nonexistent key. I'm going to try to print out items1, and in this case I'll ask for key6. I'll save, and we'll run this. You can see that there's an error. I'm getting an error because there's no data value associated with that key. That key has not been added to the hash table, so that throws an exception. Go ahead and let's stop that right there. If I set a value on a key that's already in the hash table, then that existing value gets replaced. So let me go ahead and comment this guy out. I'll write items two, and in this case, I'm going to replace key2 is equal to, and I'll use the string two this time. And then let's just print out items2 again. Let's save. I'll clear the terminal and run. Now you can see that the value of key2 in items2 has been replaced by the string two. Then finally, what I'm going to do is iterate over all the contents of a hash table, using in this case the built in items function in Python. Again, different languages had different ways of doing this, so what I'm going to do is write for key and value in items2.items, so that will give me the items list, I'm going to print. It'll have the label Key, and then I'll print the key, and then value, and I'll print the value. Alright, so I'll save, and then once again, I'll clear the output and run this. Now you can see that each of the keys and values is being retrieved and printed out. That should give you a good overview of the hash table data structure. We'll see how these are used in algorithms later in the course.
